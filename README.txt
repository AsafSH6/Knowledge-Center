The script contains "var index" which is initialized to -1 and used to test different dates.
If you choose to use my test cases, set index to 0 and remove the comment mark from lines 12 to 25.
If the tests success the messages should appear in the order: A, B, C, E, D, E, B, A........

getRelevantMessages returns array which treated as stack with the messages that relevant to the date in "today".

Console.log prints which message and template is used.